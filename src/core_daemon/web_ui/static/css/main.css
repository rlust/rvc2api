/* Base and Theme Styles */
body {
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
  transition-property: background-color, border-color, color, fill, stroke;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 300ms;
  overflow: hidden; /* Prevent body from scrolling, main content will scroll */
}

/* Theme Variables - Default (Catppuccin Mocha as example) */
.theme-default,
.theme-catppuccin-mocha {
  --color-bg-primary: #1e1e2e; /* base */
  --color-bg-secondary: #181825; /* crust */
  --color-bg-tertiary: #313244; /* surface0 */
  --color-text-primary: #cdd6f4; /* text */
  --color-text-secondary: #bac2de; /* subtext0 */
  --color-border-primary: #45475a; /* surface1 */
  --color-accent-primary: #89b4fa; /* blue */
  --color-accent-secondary: #f5c2e7; /* pink */
  --color-success: #a6e3a1; /* green */
  --color-warning: #f9e2af; /* yellow */
  --color-error: #f38ba8; /* red */
  --color-info: #89dceb; /* sapphire */

  --color-button-bg: var(--color-accent-primary);
  --color-button-text: var(--color-bg-primary);
  --color-button-hover-bg: var(--color-accent-secondary);

  --color-link-text: var(--color-accent-primary);
  --color-link-hover-text: var(--color-accent-secondary);

  --color-log-debug: #b4befe; /* lavender */
  --color-log-info: var(--color-info);
  --color-log-warning: var(--color-warning);
  --color-log-error: var(--color-error);
  --color-log-critical: #fab387; /* peach */
}

.theme-dark {
  --color-bg-primary: #1a1b26;
  --color-bg-secondary: #16161e;
  --color-bg-tertiary: #24283b;
  --color-text-primary: #c0caf5;
  --color-text-secondary: #a9b1d6;
  --color-border-primary: #414868;
  --color-accent-primary: #7aa2f7;
  --color-accent-secondary: #bb9af7;
  --color-success: #9ece6a;
  --color-warning: #e0af68;
  --color-error: #f7768e;
  --color-info: #7dcfff;
  /* Added log colors for .theme-dark */
  --color-log-debug: var(--color-accent-secondary); /* Example: purple */
  --color-log-info: var(--color-info); /* Example: blue */
  --color-log-warning: var(--color-warning); /* Example: yellow */
  --color-log-error: var(--color-error); /* Example: red */
  --color-log-critical: #ff6347; /* Example: tomato red */
}

.theme-light {
  --color-bg-primary: #f8f9fa; /* Very light gray, almost white */
  --color-bg-secondary: #e9ecef; /* Light gray */
  --color-bg-tertiary: #dee2e6; /* Medium light gray */
  --color-text-primary: #212529; /* Dark gray, almost black for text */
  --color-text-secondary: #495057; /* Slightly lighter dark gray */
  --color-border-primary: #ced4da; /* Gray for borders */
  --color-accent-primary: #007bff; /* Standard blue */
  --color-accent-secondary: #6610f2; /* Indigo */
  --color-success: #28a745; /* Green */
  --color-warning: #ffc107; /* Yellow */
  --color-error: #dc3545; /* Red */
  --color-info: #17a2b8; /* Teal */
  /* Added log colors for .theme-light */
  --color-log-debug: #6c757d; /* gray */
  --color-log-info: var(--color-info); /* teal */
  --color-log-warning: var(--color-warning); /* yellow, ensure text is dark */
  --color-log-error: var(--color-error); /* red */
  --color-log-critical: #d9534f; /* darker red */
}

/* Catppuccin Latte */
.theme-catppuccin-latte {
  --color-bg-primary: #eff1f5; /* base */
  --color-bg-secondary: #e6e9ef; /* crust */
  --color-bg-tertiary: #dce0e8; /* surface0 */
  --color-text-primary: #4c4f69; /* text */
  --color-text-secondary: #5c5f77; /* subtext0 */
  --color-border-primary: #bcc0cc; /* surface1 */
  --color-accent-primary: #1e66f5; /* blue */
  --color-accent-secondary: #ea76cb; /* pink */
  --color-success: #40a02b; /* green */
  --color-warning: #df8e1d; /* yellow */
  --color-error: #d20f39; /* red */
  --color-info: #04a5e5; /* sapphire */
  /* Added log colors for .theme-catppuccin-latte (using its palette) */
  --color-log-debug: #7287fd; /* lavender */
  --color-log-info: var(--color-info); /* sapphire */
  --color-log-warning: var(--color-warning); /* yellow */
  --color-log-error: var(--color-error); /* red */
  --color-log-critical: #fe640b; /* peach */
}

/* Nord Dark */
.theme-nord-dark {
  --color-bg-primary: var(--nord0);
  --color-bg-secondary: var(--nord1);
  --color-bg-tertiary: var(
    --nord2
  ); /* custom.css uses nord3 for active nav-link bg */
  --color-text-primary: var(--nord4);
  --color-text-secondary: var(
    --nord5
  ); /* custom.css uses nord9 for nav-link text */
  --color-border-primary: var(--nord3);
  --color-accent-primary: var(--nord8);
  --color-accent-secondary: var(--nord9);
  --color-success: var(--nord14);
  --color-warning: var(--nord13);
  --color-error: var(--nord11);
  --color-info: var(--nord10);
  --color-button-bg: var(
    --nord10
  ); /* Example, custom.css uses nord2 for generic buttons */
  --color-button-text: var(--nord4);
  --color-button-hover-bg: var(--nord8);
  --color-link-text: var(--nord8);
  --color-link-hover-text: var(--nord7);
  /* Log colors for Nord Dark */
  --color-log-debug: var(--nord8); /* Frost 2 - light blue/cyan */
  --color-log-info: var(--nord7); /* Frost 3 - cyan/green */
  --color-log-warning: var(--nord13); /* Yellow */
  --color-log-error: var(--nord11); /* Red */
  --color-log-critical: var(--nord12); /* Orange */
}

/* Nord Light */
.theme-nord-light {
  --color-bg-primary: var(--nord6);
  --color-bg-secondary: var(--nord5);
  --color-bg-tertiary: var(--nord4);
  --color-text-primary: var(--nord0);
  --color-text-secondary: var(
    --nord1
  ); /* custom.css uses nord10 for nav-link text */
  --color-border-primary: var(
    --nord3
  ); /* custom.css uses nord4 for borders on bg-secondary elements */
  --color-accent-primary: var(--nord10);
  --color-accent-secondary: var(--nord9);
  --color-success: var(--nord14);
  --color-warning: var(--nord13);
  --color-error: var(--nord11);
  --color-info: var(--nord8); /* Swapped with accent for better fit */
  --color-button-bg: var(--nord10);
  --color-button-text: var(--nord6);
  --color-button-hover-bg: var(--nord9);
  --color-link-text: var(--nord10);
  --color-link-hover-text: var(--nord9);
  /* Log colors for Nord Light */
  --color-log-debug: var(--nord10);
  --color-log-info: var(--nord8);
  --color-log-warning: var(--nord13); /* Text must be dark for yellow */
  --color-log-error: var(--nord11);
  --color-log-critical: var(--nord12);
}

/* Gruvbox Dark */
.theme-gruvbox-dark {
  --color-bg-primary: var(--gruvbox-dark-bg0);
  --color-bg-secondary: var(
    --gruvbox-dark-bg1
  ); /* Matches custom.css header/aside */
  --color-bg-tertiary: var(
    --gruvbox-dark-bg2
  ); /* Matches custom.css active nav-link bg */
  --color-text-primary: var(--gruvbox-dark-fg);
  --color-text-secondary: #a89984; /* Gruvbox gray, slightly lighter than fg for subtext */
  --color-border-primary: var(--gruvbox-dark-bg2);
  --color-accent-primary: var(--gruvbox-dark-blue);
  --color-accent-secondary: var(--gruvbox-dark-purple);
  --color-success: var(--gruvbox-dark-green);
  --color-warning: var(--gruvbox-dark-yellow);
  --color-error: var(--gruvbox-dark-red);
  --color-info: var(--gruvbox-dark-aqua);
  --color-button-bg: var(--gruvbox-dark-blue);
  --color-button-text: var(--gruvbox-dark-bg0);
  --color-button-hover-bg: var(--gruvbox-dark-aqua);
  --color-link-text: var(--gruvbox-dark-blue);
  --color-link-hover-text: var(--gruvbox-dark-aqua);
  /* Log colors for Gruvbox Dark */
  --color-log-debug: var(--gruvbox-dark-purple);
  --color-log-info: var(--gruvbox-dark-blue);
  --color-log-warning: var(--gruvbox-dark-yellow); /* Text must be dark */
  --color-log-error: var(--gruvbox-dark-red);
  --color-log-critical: var(--gruvbox-dark-orange);
}

/* Gruvbox Light */
.theme-gruvbox-light {
  --color-bg-primary: var(--gruvbox-light-bg0);
  --color-bg-secondary: var(--gruvbox-light-bg1);
  --color-bg-tertiary: var(--gruvbox-light-bg2);
  --color-text-primary: var(--gruvbox-light-fg);
  --color-text-secondary: #665c54; /* Gruvbox dark gray for subtext */
  --color-border-primary: var(--gruvbox-light-bg2);
  --color-accent-primary: var(--gruvbox-light-blue);
  --color-accent-secondary: var(--gruvbox-light-purple);
  --color-success: var(--gruvbox-light-green);
  --color-warning: var(--gruvbox-light-yellow);
  --color-error: var(--gruvbox-light-red);
  --color-info: var(--gruvbox-light-aqua);
  --color-button-bg: var(--gruvbox-light-blue);
  --color-button-text: var(--gruvbox-light-bg0);
  --color-button-hover-bg: var(--gruvbox-light-aqua);
  --color-link-text: var(--gruvbox-light-blue);
  --color-link-hover-text: var(--gruvbox-light-aqua);
  /* Log colors for Gruvbox Light */
  --color-log-debug: var(--gruvbox-light-purple);
  --color-log-info: var(--gruvbox-light-blue);
  --color-log-warning: var(--gruvbox-light-yellow); /* Text must be dark */
  --color-log-error: var(--gruvbox-light-red);
  --color-log-critical: var(--gruvbox-light-orange);
}

/* Apply Theme Variables */
body {
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
  overflow: hidden; /* Prevent body from scrolling, main content will scroll */
}

#appHeader {
  background-color: var(--color-bg-secondary);
  border-bottom: 1px solid var(--color-border-primary);
}

/* Sidebar Navigation */
#sidebar {
  background-color: var(--color-bg-secondary);
  border-right: 1px solid var(--color-border-primary);
  overflow-x: hidden; /* Prevent horizontal scrollbar when collapsed */
  /* height is managed by fixed positioning: h-[calc(100vh-4rem)] in HTML */
  /* overflow-y: auto; /* Let sidebar content scroll if it exceeds viewport height */
  /* transition for width is handled by JS to sync with mainContent margin */
}

#sidebarNavContent {
  overflow-y: auto; /* Allow scrolling within the nav content if it's too long */
  height: 100%; /* Ensure it takes full height of the sidebar for scrolling */
}

#sidebarCollapseContainer {
  border-top: none !important;
  background: transparent;
}

.nav-link {
  color: var(--color-text-secondary);
}

.nav-link:hover,
.nav-link.active-nav {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-primary);
}

.entity-card {
  background-color: var(--color-bg-tertiary);
  border: 1px solid var(--color-border-primary);
}

.entity-card input[type="range"]::-webkit-slider-thumb {
  background-color: var(--color-accent-primary);
}
.entity-card input[type="range"]::-moz-range-thumb {
  background-color: var(--color-accent-primary);
}

button,
input[type="button"],
input[type="submit"] {
  background-color: var(--color-button-bg);
  color: var(--color-button-text);
}

button:hover,
input[type="button"]:hover,
input[type="submit"]:hover {
  background-color: var(--color-button-hover-bg);
}

button:disabled,
input[type="button"]:disabled,
input[type="submit"]:disabled {
  background-color: #6b7280; /* Tailwind gray-500 */
  cursor: not-allowed;
}

select,
input[type="text"],
input[type="search"],
textarea {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-primary);
  border: 1px solid var(--color-border-primary);
}

/* Pinned Logs Specific Styles */
#pinnedLogsContainer {
  background-color: var(--color-bg-secondary);
  border-top: 1px solid var(--color-border-primary);
  /* transition properties are handled by inline style and JS for height, left is handled by JS */
}

#pinnedLogsHeader {
  background-color: var(--color-bg-tertiary);
  border-bottom: 1px solid var(--color-border-primary);
}

#pinnedLogsContent {
  background-color: var(--color-bg-primary);
  overflow-y: auto; /* Allow log content to scroll */
  height: calc(
    100% - 2rem
  ); /* Full height of container minus its own header/controls */
}

/* Log Stream Styles */
.log-line {
  padding: 0.25rem; /* p-1 */
  border-bottom-width: 1px; /* border-b */
  border-color: var(--color-border-primary);
}
.log-timestamp {
  font-size: 0.75rem; /* text-xs */
  line-height: 1rem; /* text-xs */
  margin-right: 0.5rem; /* mr-2 */
  color: var(--color-text-secondary);
}
.log-level-tag {
  font-weight: 600; /* font-semibold */
  font-size: 0.75rem; /* text-xs */
  line-height: 1rem; /* text-xs */
  padding-left: 0.375rem; /* px-1.5 */
  padding-right: 0.375rem; /* px-1.5 */
  padding-top: 0.125rem; /* py-0.5 */
  padding-bottom: 0.125rem; /* py-0.5 */
  border-radius: 0.125rem; /* rounded-sm */
  margin-right: 0.5rem; /* mr-2 */
}
.log-level-debug {
  background-color: var(--color-log-debug);
  color: var(--color-bg-primary); /* Ensure contrast */
}
.log-level-info {
  background-color: var(--color-log-info);
  color: var(--color-bg-primary);
}
.log-level-warning {
  background-color: var(--color-log-warning);
  color: #000; /* Black text for yellow usually works best */
}
.log-level-error {
  background-color: var(--color-error);
  color: var(--color-bg-primary);
}
.log-level-critical {
  background-color: var(--color-log-critical);
  color: var(--color-bg-primary);
}
.log-message {
  font-size: 0.875rem; /* text-sm */
  line-height: 1.25rem; /* text-sm */
  color: var(--color-text-primary);
}

/* Toast Notification Styles */
/* #toast-container styling moved to index.html as utility classes */

.toast {
  padding: 1rem; /* p-4 */
  border-radius: 0.375rem; /* rounded-md */
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
    0 4px 6px -2px rgba(0, 0, 0, 0.05); /* shadow-lg */
  font-size: 0.875rem; /* text-sm */
  line-height: 1.25rem; /* text-sm */
  opacity: 0; /* opacity-0 */
  transform: translateY(0.5rem); /* translate-y-2 */
  transition-property: all; /* transition-all */
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); /* ease-in-out */
  transition-duration: 300ms; /* duration-300 */
  max-width: 320px; /* Consistent with w-80 */
}

.toast.show {
  opacity: 1; /* opacity-100 */
  transform: translateY(0); /* translate-y-0 */
}

/* Sidebar collapsed hover effect */
.sidebar-collapsed-hoverable:not(:hover) #sidebarNavContent {
  display: none; /* hidden */
}

.sidebar-collapsed-hoverable:hover #sidebarNavContent {
  display: block; /* block */
  position: absolute; /* absolute */
  left: 100%; /* left-full */
  top: 0; /* top-0 */
  width: 14rem; /* w-56 */
  padding: 1rem; /* p-4 */
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
    0 4px 6px -2px rgba(0, 0, 0, 0.05); /* shadow-lg */
  border-top-right-radius: 0.375rem; /* rounded-r-md */
  border-bottom-right-radius: 0.375rem; /* rounded-r-md */
  background-color: var(--color-bg-secondary);
  /* Ensure it appears above other content if necessary */
  z-index: 50;
}

.sidebar-collapsed-hoverable:hover #sidebarNavContent .nav-link span {
  display: inline; /* inline */
}

/* Ensure icons are always visible in collapsed hoverable sidebar */
.sidebar-collapsed-hoverable .nav-link i {
  margin-right: 0; /* mr-0 */
}

.sidebar-collapsed-hoverable:hover .nav-link i {
  margin-right: 0.5rem; /* mr-2 */
}

/* General Link Styling */
a {
  color: var(--color-link-text);
}
a:hover {
  color: var(--color-link-hover-text);
  text-decoration-line: underline; /* from @apply hover:underline */
}

/* Tailwind utility classes that might be purged if not used in HTML directly */
.text-green-400 {
  color: var(--color-success);
}
.text-red-400 {
  color: var(--color-error);
}
.text-yellow-400 {
  color: var(--color-warning);
}

/* Ensure main content area respects the header and potential pinned logs */
#mainContent {
  padding-top: 4rem; /* Height of the header */
  /* padding-bottom will be dynamically adjusted by JS if logs are pinned and expanded */
  overflow-y: auto; /* Allow main content to scroll independently */
  height: calc(100vh - 4rem); /* Full viewport height minus header height */
  /* transition for margin-left is handled by JS */
}

/* Utility for screen readers only */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Additional style for active nav link icon */
.nav-link.active-nav i {
  color: var(--color-accent-primary);
}

/* filepath: /Users/ryan/src/rvc2api/src/core_daemon/web_ui/static/css/main.css */
/* Added :root variables from custom.css */
:root {
  --nord0: #2e3440;
  --nord1: #3b4252;
  --nord2: #434c5e;
  --nord3: #4c566a;
  --nord4: #d8dee9;
  --nord5: #e5e9f0;
  --nord6: #eceff4;
  --nord7: #8fbcbb; /* Frost 1 */
  --nord8: #88c0d0; /* Frost 2 */
  --nord9: #81a1c1; /* Frost 3 */
  --nord10: #5e81ac; /* Frost 4 */
  --nord11: #bf616a; /* Aurora 1 - Red */
  --nord12: #d08770; /* Aurora 2 - Orange */
  --nord13: #ebcb8b; /* Aurora 3 - Yellow */
  --nord14: #a3be8c; /* Aurora 4 - Green */
  --nord15: #b48ead; /* Aurora 5 - Purple */

  --gruvbox-dark-bg0: #282828;
  --gruvbox-dark-bg1: #3c3836;
  --gruvbox-dark-bg2: #504945;
  --gruvbox-dark-fg: #ebdbb2;
  --gruvbox-dark-red: #cc241d;
  --gruvbox-dark-green: #98971a;
  --gruvbox-dark-yellow: #d79921;
  --gruvbox-dark-blue: #458588;
  --gruvbox-dark-purple: #b16286;
  --gruvbox-dark-aqua: #689d6a;
  --gruvbox-dark-orange: #d65d0e;

  --gruvbox-light-bg0: #fbf1c7;
  --gruvbox-light-bg1: #ebdbb2;
  --gruvbox-light-bg2: #d5c4a1;
  --gruvbox-light-fg: #3c3836;
  --gruvbox-light-red: #cc241d;
  --gruvbox-light-green: #98971a;
  --gruvbox-light-yellow: #d79921;
  --gruvbox-light-blue: #458588;
  --gruvbox-light-purple: #b16286;
  --gruvbox-light-aqua: #689d6a;
  --gruvbox-light-orange: #d65d0e;

  /* Catppuccin specific color names from custom.css (already in main.css themes but good for reference) */
  /* --ctp-mocha-rosewater: #f5e0dc; ... etc. */
  /* --ctp-latte-rosewater: #dc8a78; ... etc. */

  /* Semantic aliases from custom.css's :root - these are good for clarity if used consistently */
  --gruvbox-dark-info: var(--gruvbox-dark-blue);
  --gruvbox-dark-success: var(--gruvbox-dark-green);
  --gruvbox-dark-warning: var(--gruvbox-dark-orange);
  --gruvbox-dark-error: var(--gruvbox-dark-red);

  --gruvbox-light-info: var(--gruvbox-light-blue);
  --gruvbox-light-success: var(--gruvbox-light-green);
  --gruvbox-light-warning: var(--gruvbox-light-orange);
  --gruvbox-light-error: var(--gruvbox-light-red);

  --ctp-mocha-info: var(
    --color-info
  ); /* Assuming --color-info is correctly set in .theme-catppuccin-mocha */
  --ctp-mocha-success: var(--color-success);
  --ctp-mocha-warning: var(
    --color-warning
  ); /* In main.css this is #f9e2af (yellow), custom.css uses peach (#fab387) for critical */
  --ctp-mocha-error: var(--color-error);

  --ctp-latte-info: var(
    --color-info
  ); /* Assuming --color-info is correctly set in .theme-catppuccin-latte */
  --ctp-latte-success: var(--color-success);
  --ctp-latte-warning: var(--color-warning);
  --ctp-latte-error: var(--color-error);
}

/* Removed generic .entity-card.light-on and .light-off styles */
/* They will be replaced by theme-specific versions from custom.css appended below */

/* Removed generic .toast-success, .toast-error, .toast-warning, .toast-info styles */
/* They will be replaced by theme-specific versions from custom.css appended below */

/* --- Appended content from custom.css (excluding its :root block) --- */
/* These are theme-specific overrides and detailed stylings */

body.theme-nord-dark header,
body.theme-nord-dark aside,
body.theme-nord-dark #pinnedLogsContainer,
body.theme-nord-dark #pinnedLogsHeader, /* Added for consistency */
body.theme-nord-dark #pinnedLogsContent,
body.theme-nord-dark .view-section pre,
body.theme-nord-dark .view-section div[class*="bg-gray-800"] {
  /* This selector is vague, consider refining */
  background-color: var(--nord1);
  color: var(--nord4);
  border-color: var(
    --nord2
  ); /* Ensure elements have borders defined if this should apply */
}
body.theme-nord-dark .nav-link {
  color: var(--nord9); /* Overrides main.css generic .nav-link color */
}
body.theme-nord-dark .nav-link:hover {
  background-color: var(--nord2);
  color: var(--nord4);
}
body.theme-nord-dark .nav-link.active-nav {
  background-color: var(--nord3);
  color: var(--nord12); /* Orange text for active */
}
body.theme-nord-dark button, /* Affects all buttons */
body.theme-nord-dark select,
body.theme-nord-dark input[type="text"], /* Added type for specificity */
body.theme-nord-dark input[type="search"], /* Added type for specificity */
body.theme-nord-dark textarea {
  /* Added for specificity */
  background-color: var(--nord2);
  color: var(--nord4);
  border-color: var(--nord3);
}
/* Override for main action buttons if different from generic buttons above */
body.theme-nord-dark button.action-button {
  /* Example if you need specific button class */
  background-color: var(--nord10); /* Blue */
  color: var(--nord4);
}
body.theme-nord-dark button.action-button:hover {
  background-color: var(--nord9);
}

body.theme-nord-dark #log-stream-container, /* Assuming #log-stream is within a container like #pinnedLogsContent */
body.theme-nord-dark #pinnedLogsContent pre /* More specific to the log <pre> tag if one exists */ {
  background-color: var(--nord0); /* Log background */
  /* color: var(--nord14); /* Default log text color - handled by .log-message and .log-level-* */
}
body.theme-nord-dark #spec-content {
  color: var(--nord10); /* For rvc.json view */
}
body.theme-nord-dark #mapping-content {
  color: var(--nord7); /* For device_mapping.yml view */
}

body.theme-nord-light header,
body.theme-nord-light aside,
body.theme-nord-light #pinnedLogsContainer,
body.theme-nord-light #pinnedLogsHeader,
body.theme-nord-light #pinnedLogsContent,
body.theme-nord-light .view-section pre,
body.theme-nord-light .view-section div[class*="bg-gray-800"] {
  background-color: var(--nord5);
  color: var(--nord0);
  border-color: var(--nord4);
}
body.theme-nord-light .nav-link {
  color: var(--nord10); /* Dark blue text on light bg */
}
body.theme-nord-light .nav-link:hover {
  background-color: var(--nord4);
  color: var (--nord0);
}
body.theme-nord-light .nav-link.active-nav {
  background-color: var(--nord4); /* Slightly darker bg for active */
  color: var(--nord10); /* Keep consistent active text color */
}
body.theme-nord-light button,
body.theme-nord-light select,
body.theme-nord-light input[type="text"],
body.theme-nord-light input[type="search"],
body.theme-nord-light textarea {
  background-color: var(--nord5);
  color: var(--nord0);
  border-color: var(--nord4);
}
body.theme-nord-light #log-stream-container,
body.theme-nord-light #pinnedLogsContent pre {
  background-color: var(--nord6);
  /* color: var(--nord14); /* Default log text color - handled by .log-message */
}
body.theme-nord-light #spec-content {
  color: var(--nord10); /* Dark blue text */
}
body.theme-nord-light #mapping-content {
  color: var(--nord8); /* Cyan text */
}

/* Nord Entity Cards */
body.theme-nord-dark .entity-card.light-on {
  background-color: var(--nord1);
  border-left: 4px solid var(--nord14); /* Green border */
  color: var(--nord4); /* Ensure text is readable */
}
body.theme-nord-dark .entity-card.light-on h3,
body.theme-nord-dark .entity-card.light-on p,
body.theme-nord-dark .entity-card.light-on label {
  color: var(--nord4);
}
body.theme-nord-dark .entity-card.light-off {
  background-color: var(--nord0);
  border: 1px solid var(--nord2);
  color: var(--nord4);
}

body.theme-nord-light .entity-card.light-on {
  background-color: var(--nord5);
  border-left: 4px solid var (--nord14); /* Green border */
  color: var(--nord0);
}
body.theme-nord-light .entity-card.light-on h3,
body.theme-nord-light .entity-card.light-on p,
body.theme-nord-light .entity-card.light-on label {
  color: var(--nord0);
}
body.theme-nord-light .entity-card.light-off {
  background-color: var(--nord6);
  border: 1px solid var(--nord4);
  color: var(--nord0);
}

/* Gruvbox Theme Overrides (similar to Nord) */
body.theme-gruvbox-dark header,
body.theme-gruvbox-dark aside,
body.theme-gruvbox-dark #pinnedLogsContainer,
body.theme-gruvbox-dark #pinnedLogsHeader,
body.theme-gruvbox-dark #pinnedLogsContent,
body.theme-gruvbox-dark .view-section pre,
body.theme-gruvbox-dark .view-section div[class*="bg-gray-800"] {
  background-color: var(--gruvbox-dark-bg1);
  color: var(--gruvbox-dark-fg);
  border-color: var (--gruvbox-dark-bg2);
}
body.theme-gruvbox-dark .nav-link {
  color: var(--gruvbox-dark-aqua);
}
body.theme-gruvbox-dark .nav-link:hover {
  background-color: var(--gruvbox-dark-bg2);
  color: var(--gruvbox-dark-fg);
}
body.theme-gruvbox-dark .nav-link.active-nav {
  background-color: var(--gruvbox-dark-bg2); /* custom.css uses bg2 */
  color: var(
    --gruvbox-dark-yellow
  ); /* custom.css uses yellow for active text */
}
body.theme-gruvbox-dark button,
body.theme-gruvbox-dark select,
body.theme-gruvbox-dark input[type="text"],
body.theme-gruvbox-dark input[type="search"],
body.theme-gruvbox-dark textarea {
  background-color: var(--gruvbox-dark-bg2);
  color: var(--gruvbox-dark-fg);
  border-color: var(--gruvbox-dark-bg1); /* Slightly lighter border */
}
body.theme-gruvbox-dark #log-stream-container,
body.theme-gruvbox-dark #pinnedLogsContent pre {
  background-color: var(--gruvbox-dark-bg0);
}
body.theme-gruvbox-dark #spec-content {
  color: var(--gruvbox-dark-blue);
}
body.theme-gruvbox-dark #mapping-content {
  color: var(--gruvbox-dark-green);
}

body.theme-gruvbox-light header,
body.theme-gruvbox-light aside,
body.theme-gruvbox-light #pinnedLogsContainer,
body.theme-gruvbox-light #pinnedLogsHeader,
body.theme-gruvbox-light #pinnedLogsContent,
body.theme-gruvbox-light .view-section pre,
body.theme-gruvbox-light .view-section div[class*="bg-gray-800"] {
  background-color: var(--gruvbox-light-bg1);
  color: var(--gruvbox-light-fg);
  border-color: var(--gruvbox-light-bg2);
}
body.theme-gruvbox-light .nav-link {
  color: var(--gruvbox-light-aqua);
}
body.theme-gruvbox-light .nav-link:hover {
  background-color: var(--gruvbox-light-bg2);
  color: var(--gruvbox-light-fg);
}
body.theme-gruvbox-light .nav-link.active-nav {
  background-color: var(--gruvbox-light-bg2);
  color: var(
    --gruvbox-light-orange
  ); /* custom.css uses orange for active text */
}
body.theme-gruvbox-light button,
body.theme-gruvbox-light select,
body.theme-gruvbox-light input[type="text"],
body.theme-gruvbox-light input[type="search"],
body.theme-gruvbox-light textarea {
  background-color: var(--gruvbox-light-bg2);
  color: var(--gruvbox-light-fg);
  border-color: var(--gruvbox-light-bg1);
}
body.theme-gruvbox-light #log-stream-container,
body.theme-gruvbox-light #pinnedLogsContent pre {
  background-color: var(--gruvbox-light-bg0);
}
body.theme-gruvbox-light #spec-content {
  color: var(--gruvbox-light-blue);
}
body.theme-gruvbox-light #mapping-content {
  color: var(--gruvbox-light-green);
}

/* Gruvbox Entity Cards */
body.theme-gruvbox-dark .entity-card.light-on {
  background-color: var(--gruvbox-dark-bg1);
  border-left: 4px solid var(--gruvbox-dark-green);
  color: var(--gruvbox-dark-fg);
}
body.theme-gruvbox-dark .entity-card.light-on h3,
body.theme-gruvbox-dark .entity-card.light-on p,
body.theme-gruvbox-dark .entity-card.light-on label {
  color: var(--gruvbox-dark-fg);
}
body.theme-gruvbox-dark .entity-card.light-off {
  background-color: var(--gruvbox-dark-bg0);
  border: 1px solid var(--gruvbox-dark-bg2);
  color: var(--gruvbox-dark-fg);
}

body.theme-gruvbox-light .entity-card.light-on {
  background-color: var(--gruvbox-light-bg1);
  border-left: 4px solid var(--gruvbox-light-green);
  color: var(--gruvbox-light-fg);
}
body.theme-gruvbox-light .entity-card.light-on h3,
body.theme-gruvbox-light .entity-card.light-on p,
body.theme-gruvbox-light .entity-card.light-on label {
  color: var(--gruvbox-light-fg);
}
body.theme-gruvbox-light .entity-card.light-off {
  background-color: var(--gruvbox-light-bg0);
  border: 1px solid var(--gruvbox-light-bg2);
  color: var(--gruvbox-light-fg);
}

/* Catppuccin Theme Overrides (Mocha & Latte) */
/* These ensure consistency with custom.css, especially for entity cards and specific element colors */
/* General element styling for Catppuccin themes in main.css is mostly okay via semantic vars, */
/* but entity cards and specific content colors from custom.css are more nuanced. */

body.theme-catppuccin-mocha #spec-content {
  color: var(--ctp-mocha-blue);
} /* Using direct palette color */
body.theme-catppuccin-mocha #mapping-content {
  color: var(--ctp-mocha-teal);
}

body.theme-catppuccin-latte #spec-content {
  color: var(--ctp-latte-blue);
}
body.theme-catppuccin-latte #mapping-content {
  color: var(--ctp-latte-teal);
}

/* Catppuccin Entity Cards (from custom.css) */
body.theme-catppuccin-mocha .entity-card.light-on {
  background-color: var(--ctp-mocha-surface0); /* surface0 */
  border-left: 4px solid var(--ctp-mocha-green); /* green */
  color: var(--ctp-mocha-text);
}
body.theme-catppuccin-mocha .entity-card.light-on h3,
body.theme-catppuccin-mocha .entity-card.light-on p,
body.theme-catppuccin-mocha .entity-card.light-on label {
  color: var(--ctp-mocha-text);
}
body.theme-catppuccin-mocha .entity-card.light-off {
  background-color: var(--ctp-mocha-mantle); /* mantle */
  border: 1px solid var(--ctp-mocha-surface0); /* surface0 */
  color: var(--ctp-mocha-text);
}

body.theme-catppuccin-latte .entity-card.light-on {
  background-color: var(--ctp-latte-surface0);
  border-left: 4px solid var(--ctp-latte-green);
  color: var(--ctp-latte-text);
}
body.theme-catppuccin-latte .entity-card.light-on h3,
body.theme-catppuccin-latte .entity-card.light-on p,
body.theme-catppuccin-latte .entity-card.light-on label {
  color: var(--ctp-latte-text);
}
body.theme-catppuccin-latte .entity-card.light-off {
  background-color: var(--ctp-latte-surface1); /* surface1 */
  border: 1px solid var(--ctp-latte-surface2); /* surface2 */
  color: var(--ctp-latte-text);
}

/* Theme-specific Toast Styles from custom.css */
/* Default and Dark themes from main.css are okay, these add Nord, Gruvbox, and ensure Catppuccin matches custom.css */

.theme-nord-dark .toast-info {
  background-color: var(--nord2);
  color: var(--nord4);
  border: 1px solid var(--nord10);
}
.theme-nord-dark .toast-success {
  background-color: var(--nord14);
  color: var(--nord0);
  border: 1px solid var(--nord14);
}
.theme-nord-dark .toast-error {
  background-color: var(--nord11);
  color: var(--nord0);
  border: 1px solid var(--nord11);
}
.theme-nord-dark .toast-warning {
  background-color: var(--nord13);
  color: var(--nord0);
  border: 1px solid var(--nord13); /* nord12 in custom.css, using nord13 (yellow) for warning */
}

.theme-nord-light .toast-info {
  background-color: var(--nord4);
  color: var(--nord0);
  border: 1px solid var(--nord10);
}
.theme-nord-light .toast-success {
  background-color: var(--nord14);
  color: var(--nord6);
  border: 1px solid var(--nord14);
}
.theme-nord-light .toast-error {
  background-color: var(--nord11);
  color: var(--nord6);
  border: 1px solid var(--nord11);
}
.theme-nord-light .toast-warning {
  background-color: var(--nord13);
  color: var(--nord0);
  border: 1px solid var(--nord13); /* nord12 in custom.css, using nord13 (yellow) */
}

.theme-gruvbox-dark .toast-info {
  background-color: var(--gruvbox-dark-bg1);
  color: var(--gruvbox-dark-fg);
  border: 1px solid var(--gruvbox-dark-info);
}
.theme-gruvbox-dark .toast-success {
  background-color: var(--gruvbox-dark-green);
  color: var(--gruvbox-dark-bg0);
  border: 1px solid var(--gruvbox-dark-green);
}
.theme-gruvbox-dark .toast-error {
  background-color: var(--gruvbox-dark-red);
  color: var(--gruvbox-dark-bg0);
  border: 1px solid var(--gruvbox-dark-red);
}
.theme-gruvbox-dark .toast-warning {
  background-color: var(--gruvbox-dark-orange);
  color: var(--gruvbox-dark-bg0);
  border: 1px solid var(--gruvbox-dark-orange);
}

.theme-gruvbox-light .toast-info {
  background-color: var(--gruvbox-light-bg1);
  color: var(--gruvbox-light-fg);
  border: 1px solid var(--gruvbox-light-info);
}
.theme-gruvbox-light .toast-success {
  background-color: var(--gruvbox-light-green);
  color: var(--gruvbox-light-bg0);
  border: 1px solid var(--gruvbox-light-green);
}
.theme-gruvbox-light .toast-error {
  background-color: var(--gruvbox-light-red);
  color: var(--gruvbox-light-bg0);
  border: 1px solid var(--gruvbox-light-red);
}
.theme-gruvbox-light .toast-warning {
  background-color: var(--gruvbox-light-orange);
  color: var(--gruvbox-light-bg0);
  border: 1px solid var(--gruvbox-light-orange);
}

/* Catppuccin Toasts (ensure they match custom.css, including borders) */
.theme-catppuccin-mocha .toast-info {
  background-color: var(--ctp-mocha-surface1);
  color: var(--ctp-mocha-text);
  border: 1px solid var(--ctp-mocha-blue); /* ctp-mocha-info is var(--color-info) which is blue */
}
.theme-catppuccin-mocha .toast-success {
  background-color: var(--ctp-mocha-green);
  color: var(--ctp-mocha-base);
  border: 1px solid var(--ctp-mocha-green);
}
.theme-catppuccin-mocha .toast-error {
  background-color: var(--ctp-mocha-red);
  color: var(--ctp-mocha-base);
  border: 1px solid var(--ctp-mocha-red);
}
.theme-catppuccin-mocha .toast-warning {
  background-color: var(--ctp-mocha-yellow);
  color: var(--ctp-mocha-base);
  border: 1px solid var(--ctp-mocha-yellow); /* custom.css used peach for critical, main.css uses yellow for warning */
}

.theme-catppuccin-latte .toast-info {
  background-color: var(--ctp-latte-surface1);
  color: var(--ctp-latte-text);
  border: 1px solid var(--ctp-latte-blue);
}
.theme-catppuccin-latte .toast-success {
  background-color: var(--ctp-latte-green);
  color: var(--ctp-latte-base);
  border: 1px solid var(--ctp-latte-green);
}
.theme-catppuccin-latte .toast-error {
  background-color: var(--ctp-latte-red);
  color: var(--ctp-latte-base);
  border: 1px solid var(--ctp-latte-red);
}
.theme-catppuccin-latte .toast-warning {
  background-color: var(--ctp-latte-yellow);
  color: var(--ctp-latte-base);
  border: 1px solid var(--ctp-latte-yellow);
}

/* Ensure default theme also gets toast borders if we are standardizing */
.theme-default .toast-info {
  border: 1px solid var(--color-accent-primary); /* Example */
}
.theme-default .toast-success {
  border: 1px solid var(--color-success);
}
.theme-default .toast-error {
  border: 1px solid var(--color-error);
}
.theme-default .toast-warning {
  border: 1px solid var(--color-warning);
}

/* Ensure dark theme also gets toast borders */
.theme-dark .toast-info {
  border: 1px solid var(--color-accent-primary);
}
.theme-dark .toast-success {
  border: 1px solid var(--color-success);
}
.theme-dark .toast-error {
  border: 1px solid var(--color-error);
}
.theme-dark .toast-warning {
  border: 1px solid var(--color-warning);
}

/* Ensure light theme also gets toast borders */
.theme-light .toast-info {
  border: 1px solid var(--color-accent-primary);
}
.theme-light .toast-success {
  border: 1px solid var(--color-success);
}
.theme-light .toast-error {
  border: 1px solid var(--color-error);
}
.theme-light .toast-warning {
  border: 1px solid var(--color-warning);
}

/* Themed footer styles */
.app-footer {
  background-color: var(--color-bg-secondary);
  color: var(--color-text-secondary);
  border-top: 1px solid var(--color-border-primary);
  font-size: 0.75rem; /* text-xs */
  padding-top: 0.5rem; /* py-2 */
  padding-bottom: 0.5rem;
  padding-left: 1rem; /* px-4 */
  padding-right: 1rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 70;
}

/* Themed table styles */
.themed-table {
  width: 100%;
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-primary);
  border-radius: 0.5rem;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.08);
  font-size: 0.875rem;
  border-collapse: separate;
  border-spacing: 0;
}
.themed-table th,
.themed-table td {
  padding: 0.5rem 1rem;
  border-bottom: 1px solid var(--color-border-primary);
}
.themed-table th {
  text-align: left;
  font-weight: 600;
  color: var(--color-text-secondary);
  background: var(--color-bg-secondary);
}
.themed-table tr:last-child td {
  border-bottom: none;
}
.themed-table tbody tr:hover {
  background: var(--color-bg-secondary);
}
.themed-table .themed-table-note {
  color: var(--color-success);
  font-weight: 500;
}
.themed-table .themed-table-muted {
  color: var(--color-text-secondary);
}

/* Theme-aware custom dropdown styles */
.theme-dropdown-btn {
  background: var(--color-bg-tertiary);
  color: var(--color-text-primary);
  border: 1px solid var(--color-border-primary);
  border-radius: 0.375rem;
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
  display: flex;
  align-items: center;
  cursor: pointer;
  min-width: 160px;
  transition: background 0.2s, color 0.2s, border 0.2s;
}
.theme-dropdown-btn:focus {
  outline: 2px solid var(--color-accent-primary);
  outline-offset: 2px;
}
.theme-dropdown-menu {
  position: absolute;
  left: 0;
  top: 110%;
  min-width: 180px;
  background: var(--color-bg-tertiary);
  color: var(--color-text-primary);
  border: 1px solid var(--color-border-primary);
  border-radius: 0.375rem;
  box-shadow: 0 4px 16px 0 rgba(0, 0, 0, 0.12);
  margin-top: 0.25rem;
  z-index: 100;
  padding: 0.25rem 0;
  list-style: none;
  font-size: 0.875rem;
}
.theme-dropdown-menu[hidden] {
  display: none;
}
.theme-dropdown-menu li {
  padding: 0.5rem 1rem;
  cursor: pointer;
  transition: background 0.15s, color 0.15s;
  border: none;
}
.theme-dropdown-menu li[aria-selected="true"],
.theme-dropdown-menu li:hover {
  background: var(--color-accent-primary);
  color: var(--color-button-text);
}

/* Expandable JSON row styling for CAN Sniffer */
.expanded-json-row td {
  background: var(--theme-table-expanded-bg, #23272e);
  color: var(--theme-table-expanded-fg, #e0e0e0);
  font-family: var(--theme-mono, monospace);
  font-size: 0.95em;
  padding: 1em 2em;
  border-top: 1px solid var(--theme-border, #444);
}
.pretty-json {
  white-space: pre-wrap;
  word-break: break-all;
  margin: 0;
  font-size: 1em;
  font-family: var(--theme-mono, monospace);
}
.expand-json-btn {
  background: none;
  border: none;
  cursor: pointer;
  color: var(--theme-accent, #8ec07c);
  margin-right: 0.5em;
  font-size: 1em;
  vertical-align: middle;
}
.expand-json-btn:focus {
  outline: 2px solid var(--theme-accent, #8ec07c);
}
.json-summary {
  color: var(--theme-muted, #b0b0b0);
  font-style: italic;
}

#themeDropdownContainer {
  position: relative;
}
#themeDropdownContainer .theme-dropdown-menu {
  pointer-events: auto;
}
#themeDropdownContainer .theme-dropdown-menu[hidden] {
  pointer-events: none;
}
